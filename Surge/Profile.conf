# å®˜æ–¹æ‰‹å†Œ - https://manual.nssurge.com/
# ç†è§£åŸç† - https://manual.nssurge.com/book/understanding-surge/cn/
# å¸®åŠ©ä¸­å¿ƒ - https://nssurge.zendesk.com/
# æŠ€æœ¯ç¤¾åŒº - https://community.nssurge.com
# ä»¥"#" å’Œ "//" å¼€å¤´çš„è¡Œä¸ºæ³¨é‡Šè¡Œ

[General]
# ---(ç½‘ç»œä¼˜åŒ–)---
# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
# (åœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯)
wifi-assist = false
# > æ··åˆç½‘ç»œ
all-hybrid = false
# > æ¸¸æˆä¼˜åŒ–æ¨¡å¼
udp-priority = false
# ------

# ---(å»¶è¿Ÿæµ‹è¯•)---
# > Internet æµ‹è¯• URL
internet-test-url = http://www.baidu.com
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 2
# ------

# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb

# ---(IPv6)---
# > IPv6 æ”¯æŒ
ipv6 = false
# > IPv6 VIF
ipv6-vif = auto
# ------

# ---(Wi-Fi è®¿é—®)---
# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# > å…è®¸ Wi-Fi è®¿é—® (ä»… macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œ127.0.0.1ã€æ”¹ä¸ºã€Œ0.0.0.0ã€)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153
# > å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®
allow-hotspot-access = false
# ------

# ---(å…¼å®¹æ€§)---
# > å…¼å®¹æ¨¡å¼ (ä»… iOS)
compatibility-mode = 0
# > è·³è¿‡ä»£ç†
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# ------

# ---(DNS)---
# > ä¼ ç»Ÿ DNS æœåŠ¡å™¨ (å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨ DNS over HTTPS)
dns-server = system
# > ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# ------

# é«˜çº§
# > æ—¥å¿—çº§åˆ«
loglevel = notify
# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# > DNS åŠ«æŒ
hijack-dns = *:53
# > VIF Excluded Routes
tun-excluded-routes = 239.255.255.250/32

# UDP å›é€€è¡Œä¸º
# (å¹¶éæ‰€æœ‰ä»£ç†æœåŠ¡å™¨éƒ½æ”¯æŒ UDP è½¬å‘ï¼Œå½“ä¸€ä¸ª UDP ä¼šè¯å°è¯•ä½¿ç”¨ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ä»£ç†æœåŠ¡å™¨æ—¶ï¼ŒSurge ä¼šé»˜è®¤å›é€€è‡³ç›´è¿ã€‚å¯ä¿®æ”¹ä¸ºé˜»æ­¢ä»¥é¿å…æ½œåœ¨çš„éšç§æ³„éœ²éšæ‚£ã€‚)
udp-policy-not-supported-behaviour = REJECT

# UDP ä»£ç†è½¬å‘æµ‹è¯•
proxy-test-udp = apple.com@8.8.8.8

# éšè— VPN å›¾æ ‡
hide-vpn-icon = false

[Proxy]

[Proxy Group]
# èŠ‚ç‚¹é€‰é¡¹
PROXY =  select, policy-path=https://mdz1.qiuqiuyun.xyz/api/v1/client/subscribe?token=bd5c660d715377aa9773d90474b65550, update-interval=0, no-alert=0, hidden=0, include-all-proxies=1
åŠ¨ç”»ç–¯ = select, å°æ¹¾èŠ‚ç‚¹
å“”å“©å“”å“© = select, PROXY, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Netflix = select, PROXY, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹
Disney+ = select, PROXY, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹
é¦™æ¸¯èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=(ğŸ‡­ğŸ‡°)|(æ¸¯)|(Hong)|(HK), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
å°æ¹¾èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=(ğŸ‡¨ğŸ‡³)|(å°)|(Tai)|(TW), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
æ–°åŠ å¡èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(å¡)|(Singapore)|(SG), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
ç¾å›½èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(ç¾)|(States)|(US), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
Final = select, PROXY, DIRECT
[Rule]
# > å¹¿å‘Šå±è”½
RULE-SET,https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-surge.txt,REJECT
# > è¿è¥å•†åŠ«æŒ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking_Resolve.list,REJECT
# > WeChat
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat_Resolve.list,DIRECT
# > åŠ¨ç”»ç–¯
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bahamut/Bahamut.list,åŠ¨ç”»ç–¯
# > å“”å“©å“”å“©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili_Resolve.list,å“”å“©å“”å“©
# > Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix_Resolve.list,Netflix
# > Disney+
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Disney+
# > å›½å¤–ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Resolve.list,PROXY
# > å¤§é™†ASN
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/auto-update/ruleset/ASN.China.list,DIRECT

# ä»¥ä¸‹è§„åˆ™å°†è§¦å‘æœ¬åœ° DNS è§£æ
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT
FINAL,Final,dns-failed


















